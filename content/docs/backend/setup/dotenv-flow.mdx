---
title: Dotenv Flow
description: Learn how to use dotenv-flow for managing environment variables in Node.js applications with multiple environments like development, staging, and production.
---

## `dotenv` vs `dotenv-flow`

| Feature                        | `dotenv`                              | `dotenv-flow`                               |
| ------------------------------ | ------------------------------------- | ------------------------------------------- |
| **Basic support**              | âœ… Loads single `.env` file           | âœ… Loads `.env` + layered overrides         |
| **Supports `NODE_ENV`**        | âŒ Not automatic (you do it manually) | âœ… Auto-detects and loads by `NODE_ENV`     |
| **Multiple file layers**       | âŒ Manual only                        | âœ… `.env`, `.env.local`, `.env.development` |
| **File priority/merging**      | âŒ Last one wins, no merging          | âœ… Merges in correct order                  |
| **Support for local override** | âŒ Manual setup needed                | âœ… Built-in: `.env.local` for dev override  |
| **Advanced flexibility**       | ðŸ”§ Basic use cases                    | âš™ï¸ Great for staging, CI/CD pipelines       |
| **Zero dependencies**          | âœ… Very lightweight                   | ðŸ”§ Slightly more complex (but flexible)     |

---

## How `dotenv` Works

```ts
dotenv.config({ path: ".env" }); // Loads ONE file
```

You need to handle logic like:

```ts
dotenv.config({ path: `.env.${process.env.NODE_ENV}` });
```

> Doesnâ€™t support automatic merging or override behavior.

---

## How `dotenv-flow` Works

```ts
dotenvFlow.config(); // Automatically loads and merges
```

It automatically loads and **merges** files in this order:

```
.env
.env.local
.env.[NODE_ENV]
.env.[NODE_ENV].local
```

### Example when NODE_ENV = 'development':

```
.env
.env.local
.env.development
.env.development.local
```

Later files override earlier ones.

---

## When to Use Which?

| Use `dotenv` if...                   | Use `dotenv-flow` if...                           |
| ------------------------------------ | ------------------------------------------------- |
| Simple, single `.env` project        | You have multiple environments (dev/stage/prod)   |
| You manually control env loading     | You want automatic, layered config management     |
| You don't need `.env.local` override | You want local overrides per developer or machine |
| You want minimal setup               | You need structure in CI/CD & staging pipelines   |

---

## ðŸ”§ Recommendation

For production-ready applications or teams:

> **Use `dotenv-flow`**
> With a `zod` schema + fallback/default layer, it gives you clean config isolation per environment.
